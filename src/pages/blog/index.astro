---
import MainLayout from '../../layouts/MainLayout.astro'
import { wpquery } from '../../data/wordpress'

let res = await fetch('https://motion-mat.net/wp-json/wp/v2/posts')
let posts = await res.json()
---

<MainLayout title='Website title' description='Website Description'>
	<main class='pt-5'>
		<div class='container'>
			<h1 class='text-center text-5xl pb-10 block'>Мақалалар</h1>
			<div class='grid grid-cols-3 gap-5 py-10'>
				{
					posts.map(post => (
						<article class='post-preview'>
							<h2>
								<a href={`blog/${post.slug}/`} set:html={post.title.rendered} />
							</h2>
							<Fragment set:html={post.content.rendered} />
						</article>
					))
				}
			</div>
		</div>
	</main>
</MainLayout>
